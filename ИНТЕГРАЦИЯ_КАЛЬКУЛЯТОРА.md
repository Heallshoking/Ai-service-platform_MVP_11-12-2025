# üßÆ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –ú–û–©–ù–û–ì–û –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê –í APP.BALT-SET.RU

## üìä –ß–¢–û –£–ñ–ï –ï–°–¢–¨ –í –ì–û–¢–û–í–û–ú –†–ï–®–ï–ù–ò–ò

### ‚ú® –ò–∑ electric-service-automation-main:

#### 1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏**
```typescript
// –§–∞–π–ª: src/components/products/ServiceContainerCard.tsx
// ‚úÖ –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–π —É—Å–ª—É–≥–∏
// ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (+/-)
// ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Ü–µ–Ω—ã
// ‚úÖ –ì—Ä—É–ø–ø–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã, —ç–ª–µ–∫—Ç—Ä–æ—â–∏—Ç)
```

#### 2. **–°–∏—Å—Ç–µ–º–∞ —Å–∫–∏–¥–æ–∫**
```typescript
// –§–∞–π–ª: src/components/products/types.ts
discount?: {
  minQuantity: number;  // –û—Ç –∫–∞–∫–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
  percent: number;      // –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏
}

// –ü—Ä–∏–º–µ—Ä –∏–∑ initialContainers.ts:
{ 
  id: 'install', 
  name: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫', 
  price: 1000, 
  quantity: 1, 
  enabled: false, 
  discount: { minQuantity: 5, percent: 10 }  // ‚Üê –°–ö–ò–î–ö–ê 10% –û–¢ 5 –®–¢.
}
```

#### 3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Å —É—á—ë—Ç–æ–º —Å–∫–∏–¥–æ–∫**
```typescript
// ServiceContainerCard.tsx, —Å—Ç—Ä–æ–∫–∏ 61-71
const calculateOptionPrice = (option: ServiceOption) => {
  let price = option.price * option.quantity;
  
  // –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –°–ö–ò–î–ö–ò
  if (option.discount && option.quantity >= option.discount.minQuantity) {
    price = price * (1 - option.discount.percent / 100);
  }
  
  return price;
};
```

#### 4. **–°–∫–∏–¥–∫–∏ –Ω–∞ –∫–∞–±–µ–ª—å –ø–æ –æ–±—ä—ë–º—É —Ä–∞–±–æ—Ç**
```typescript
// Products.tsx, —Å—Ç—Ä–æ–∫–∏ 36-42
const getCableDiscount = () => {
  const meters = calculateEstimatedCableMeters();
  if (meters > 200) return 20;  // 20% —Å–∫–∏–¥–∫–∞ –æ—Ç 200–º
  if (meters > 100) return 10;  // 10% —Å–∫–∏–¥–∫–∞ –æ—Ç 100–º
  if (meters > 50) return 5;    // 5% —Å–∫–∏–¥–∫–∞ –æ—Ç 50–º
  return 0;
};
```

---

## üéØ –ü–õ–ê–ù –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```bash
# –ò–ó electric-service-automation-main
/src/components/products/
‚îú‚îÄ‚îÄ ServiceContainerCard.tsx      ‚Üê –û–°–ù–û–í–ù–û–ô –ö–û–ú–ü–û–ù–ï–ù–¢
‚îú‚îÄ‚îÄ types.ts                      ‚Üê –¢–ò–ü–´
‚îú‚îÄ‚îÄ initialContainers.ts          ‚Üê –î–ê–ù–ù–´–ï –£–°–õ–£–ì
‚îú‚îÄ‚îÄ useProductsLogic.ts           ‚Üê –õ–û–ì–ò–ö–ê –†–ê–°–ß–Å–¢–û–í
‚îî‚îÄ‚îÄ SurveyDialog.tsx              ‚Üê –î–ò–ê–õ–û–ì –û–ü–†–û–°–ê

# –í app.balt-set.ru
/static/calculator/
‚îú‚îÄ‚îÄ calculator.html               ‚Üê –°–¢–†–ê–ù–ò–¶–ê –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê
‚îî‚îÄ‚îÄ calculator.js                 ‚Üê –ê–î–ê–ü–¢–ò–†–û–í–ê–ù–ù–ê–Ø –õ–û–ì–ò–ö–ê
```

---

## üìã –ì–û–¢–û–í–´–ï –ö–û–ù–¢–ï–ô–ù–ï–†–´ –° –£–°–õ–£–ì–ê–ú–ò

### 1. **–°–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∏** (3 —É—Å–ª—É–≥–∏ + —Å–∫–∏–¥–∫–∏)
```typescript
{
  productId: 'chandelier-1',
  productName: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫',
  options: [
    { 
      name: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫', 
      price: 1000, 
      discount: { minQuantity: 5, percent: 10 }  // ‚Üê 10% –æ—Ç 5 —à—Ç.
    },
    { 
      name: '–î–µ–º–æ–Ω—Ç–∞–∂ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∞', 
      price: 500, 
      discount: { minQuantity: 5, percent: 10 }
    },
    { 
      name: '–°–±–æ—Ä–∫–∞ –ª—é—Å—Ç—Ä—ã', 
      price: 500, 
      discount: { minQuantity: 5, percent: 10 }
    },
    { 
      name: '–ü–æ–¥–≤–µ—Å —Ö—Ä—É—Å—Ç–∞–ª—è ‚Äî 1 —á–∞—Å', 
      price: 1500
    }
  ]
}
```

### 2. **–í—ã–∫–ª—é—á–∞—Ç–µ–ª–∏** (4 —É—Å–ª—É–≥–∏ + —Å–∫–∏–¥–∫–∏)
```typescript
{
  productId: 'sw-install',
  productName: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å',
  options: [
    { 
      name: '–î–æ–±–∞–≤–∏—Ç—å –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å –∏–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏', 
      price: 1500 
    },
    { 
      name: '–†–µ–º–æ–Ω—Ç —Å —É—á—ë—Ç–æ–º –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤', 
      price: 1500, 
      discount: { minQuantity: 10, percent: 15 }  // ‚Üê 15% –æ—Ç 10 —à—Ç.
    },
    { 
      name: '–ó–∞–º–µ–Ω–∏—Ç—å –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å', 
      price: 350, 
      discount: { minQuantity: 5, percent: 10 }
    },
    { 
      name: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å', 
      price: 250, 
      discount: { minQuantity: 5, percent: 10 }
    }
  ]
}
```

### 3. **–†–æ–∑–µ—Ç–∫–∏** (4 —É—Å–ª—É–≥–∏ + —Å–∫–∏–¥–∫–∏)
```typescript
{
  productId: 'out-install',
  productName: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–æ–∑–µ—Ç–∫—É',
  options: [
    { 
      name: '–†–µ–º–æ–Ω—Ç —Å —É—á—ë—Ç–æ–º –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤', 
      price: 1500, 
      discount: { minQuantity: 5, percent: 10 }
    },
    { 
      name: '–ù–∞–∫–ª–∞–¥–Ω–∞—è —Ä–æ–∑–µ—Ç–∫–∞', 
      price: 500, 
      discount: { minQuantity: 5, percent: 10 }
    },
    { 
      name: '–ó–∞–º–µ–Ω–∏—Ç—å —Ä–æ–∑–µ—Ç–∫—É', 
      price: 350, 
      discount: { minQuantity: 5, percent: 10 }
    },
    { 
      name: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–æ–∑–µ—Ç–∫—É', 
      price: 250, 
      discount: { minQuantity: 5, percent: 10 }
    }
  ]
}
```

### 4. **–≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã** (13+ —É—Å–ª—É–≥)
```typescript
{
  productId: 'wiring-complex',
  productName: '–≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã',
  productDescription: '–ß–µ—Ä–Ω–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã —Å–æ —à—Ç—Ä–æ–±–ª–µ–Ω–∏–µ–º',
  videoUrl: 'https://vk.com/clip1166188_456239923',
  options: [
    { name: '–î–æ–±–∞–≤–∏—Ç—å —Ä–æ–∑–µ—Ç–∫—É', price: 850 },
    { 
      name: '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∞ –∑–∞—â–∏—Ç—ã', 
      price: 1000, 
      discount: { minQuantity: 10, percent: 50 },  // ‚Üê 50% –°–ö–ò–î–ö–ê!
      group: 'panel'  // ‚Üê –ì—Ä—É–ø–ø–∞ "–≠–ª–µ–∫—Ç—Ä–æ—â–∏—Ç"
    },
    { name: '–ë–ª–æ–∫ –∏–∑ 2-—Ö —Ä–æ–∑–µ—Ç–æ–∫', price: 1200 },
    { name: '–ë–ª–æ–∫ –∏–∑ 3-—Ö —Ä–æ–∑–µ—Ç–æ–∫', price: 2500 },
    { name: '–ë–ª–æ–∫ –∏–∑ 4-—Ö —Ä–æ–∑–µ—Ç–æ–∫', price: 3000 },
    { name: '–ë–ª–æ–∫ –∏–∑ 5 —Ä–æ–∑–µ—Ç–æ–∫ +–∑–∞–∫–ª–∞–¥–Ω–∞—è', price: 8000 },
    // ... –∏ –µ—â—ë 7 —É—Å–ª—É–≥
  ]
}
```

---

## üí° –ö–õ–Æ–ß–ï–í–´–ï –§–ò–ß–ò

### 1. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã**
```typescript
// ‚úÖ –ß–µ–∫–±–æ–∫—Å –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —É—Å–ª—É–≥—É
<Checkbox
  checked={option.enabled}
  onCheckedChange={() => toggleOption(index, optionId)}
/>

// ‚úÖ –ó–µ–ª—ë–Ω—ã–π —Ñ–æ–Ω –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
className={option.enabled ? 'bg-green-100' : 'bg-white'}

// ‚úÖ –ü–æ–∫–∞–∑ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
{option.enabled && (
  <div>
    <Button onClick={() => updateQuantity(qty - 1)}>‚àí</Button>
    <span>{option.quantity}</span>
    <Button onClick={() => updateQuantity(qty + 1)}>+</Button>
  </div>
)}
```

### 2. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫–∏–¥–æ–∫**
```typescript
// ‚úÖ –ü–æ–∫–∞–∑ —É—Å–ª–æ–≤–∏–π —Å–∫–∏–¥–∫–∏
{option.discount && (
  <div className={hasDiscount ? 'text-green-700' : 'text-gray-500'}>
    –°–∫–∏–¥–∫–∞ {option.discount.percent}% –æ—Ç {option.discount.minQuantity} —à—Ç.
    {hasDiscount && ' ‚úì –ü—Ä–∏–º–µ–Ω–µ–Ω–∞!'}
  </div>
)}
```

### 3. **–ì—Ä—É–ø–ø–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏**
```typescript
// ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –≥—Ä—É–ø–ø—ã
const panelOptions = options.filter(opt => opt.group === 'panel');
const constructionOptions = options.filter(opt => opt.group === 'construction');

// ‚úÖ –°–∫–ª–∞–¥–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
<button onClick={() => toggleSection('panel')}>
  <span>–†–∞–±–æ—Ç—ã –≤ —ç–ª–µ–∫—Ç—Ä–æ—â–∏—Ç–µ</span>
  <Icon name={expanded ? 'ChevronUp' : 'ChevronDown'} />
</button>
```

### 4. **–í—ã–±–æ—Ä –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è**
```typescript
// ‚úÖ –û–ø—Ü–∏–∏ –¥–ª—è —Å—á—ë—Ç—á–∏–∫–æ–≤
voltageOptions?: {
  '220V': 3500,
  '380V': 5500
}

// ‚úÖ –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞
<Button variant={selectedVoltage === '220V' ? 'default' : 'outline'}>
  220V (3500 ‚ÇΩ)
</Button>
<Button variant={selectedVoltage === '380V' ? 'default' : 'outline'}>
  380V (5500 ‚ÇΩ)
</Button>
```

---

## üé® –í–ò–ó–£–ê–õ–¨–ù–û–ï –û–§–û–†–ú–õ–ï–ù–ò–ï

### –¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
```typescript
const iconColorMap = {
  'chandelier-1': { 
    bg: 'from-amber-100 to-orange-100', 
    icon: 'text-amber-600' 
  },
  'sw-install': { 
    bg: 'from-blue-100 to-cyan-100', 
    icon: 'text-blue-600' 
  },
  'out-install': { 
    bg: 'from-green-100 to-emerald-100', 
    icon: 'text-green-600' 
  }
};
```

### –ò–∫–æ–Ω–∫–∏:
```typescript
const iconMap = {
  'chandelier-1': 'Lightbulb',  // üí°
  'sw-install': 'ToggleLeft',   // üéöÔ∏è
  'out-install': 'Plug'         // üîå
};
```

---

## üìä –†–ê–°–ß–Å–¢ –ò–¢–û–ì–û–í–û–ô –°–¢–û–ò–ú–û–°–¢–ò

### –ê–ª–≥–æ—Ä–∏—Ç–º:
```typescript
1. –î–ª—è –∫–∞–∂–¥–æ–π —É—Å–ª—É–≥–∏:
   price = basePrice √ó quantity
   
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–∏–¥–∫–∏:
   if (quantity >= discount.minQuantity) {
     price = price √ó (1 - discount.percent / 100)
   }
   
3. –°—É–º–º–∞ –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É:
   containerTotal = sum(allEnabledOptions)
   
4. –û–±—â–∞—è —Å—É–º–º–∞:
   grandTotal = sum(allContainers)
   
5. –ö–∞–±–µ–ª—å (–µ—Å–ª–∏ –µ—Å—Ç—å —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂):
   cableMeters = estimatedFromOptions
   cablePrice = cableMeters √ó 100‚ÇΩ/–º
   
6. –°–∫–∏–¥–∫–∞ –Ω–∞ –∫–∞–±–µ–ª—å:
   if (cableMeters > 200) discount = 20%
   if (cableMeters > 100) discount = 10%
   if (cableMeters > 50) discount = 5%
   
7. –ò–¢–û–ì–û = grandTotal + cablePrice (—Å–æ —Å–∫–∏–¥–∫–æ–π)
```

---

## üöÄ –ê–î–ê–ü–¢–ê–¶–ò–Ø –ü–û–î APP.BALT-SET.RU

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ—Å—Ç–∞—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–ë–ï–ó React)

```html
<!-- /var/www/app.balt-set.ru/calculator.html -->
<!DOCTYPE html>
<html>
<head>
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–∞</title>
  <style>
    /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –∏–∑ Tailwind */
  </style>
</head>
<body>
  <div id="calculator"></div>
  
  <script>
    // –ö–û–ù–¢–ï–ô–ù–ï–†–´ –£–°–õ–£–ì
    const services = [
      {
        id: 'chandelier',
        name: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫',
        options: [
          { 
            id: 'install', 
            name: '–£—Å—Ç–∞–Ω–æ–≤–∫–∞', 
            price: 1000, 
            discount: { from: 5, percent: 10 }
          },
          // ...
        ]
      },
      // ...
    ];
    
    // –õ–û–ì–ò–ö–ê –†–ê–°–ß–Å–¢–ê
    function calculateTotal() {
      let total = 0;
      
      services.forEach(service => {
        service.options.forEach(option => {
          if (option.enabled) {
            let price = option.price * option.quantity;
            
            // –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –°–ö–ò–î–ö–ò
            if (option.discount && option.quantity >= option.discount.from) {
              price = price * (1 - option.discount.percent / 100);
            }
            
            total += price;
          }
        });
      });
      
      return total;
    }
    
    // –†–ï–ù–î–ï–† –ò–ù–¢–ï–†–§–ï–ô–°–ê
    function render() {
      // –°–æ–∑–¥–∞–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–æ–≤, –∫–Ω–æ–ø–æ–∫ +/-, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω
      // ...
    }
  </script>
</body>
</html>
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π HTML

```javascript
// /var/www/app.balt-set.ru/static/calculator.js

class Calculator {
  constructor() {
    this.services = this.loadServices();
    this.init();
  }
  
  loadServices() {
    return [
      {
        id: 'chandelier',
        name: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫',
        icon: 'üí°',
        color: 'amber',
        options: [
          { 
            id: 'install', 
            name: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫', 
            price: 1000,
            quantity: 0,
            enabled: false,
            discount: { minQty: 5, percent: 10 }
          },
          { 
            id: 'dismantle', 
            name: '–î–µ–º–æ–Ω—Ç–∞–∂', 
            price: 500,
            quantity: 0,
            enabled: false,
            discount: { minQty: 5, percent: 10 }
          }
        ]
      },
      {
        id: 'switch',
        name: '–í—ã–∫–ª—é—á–∞—Ç–µ–ª–∏',
        icon: 'üéöÔ∏è',
        color: 'blue',
        options: [
          { 
            id: 'install', 
            name: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å', 
            price: 250,
            quantity: 0,
            enabled: false,
            discount: { minQty: 5, percent: 10 }
          },
          { 
            id: 'replace', 
            name: '–ó–∞–º–µ–Ω–∏—Ç—å –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å', 
            price: 350,
            quantity: 0,
            enabled: false,
            discount: { minQty: 5, percent: 10 }
          },
          { 
            id: 'repair', 
            name: '–†–µ–º–æ–Ω—Ç —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏', 
            price: 1500,
            quantity: 0,
            enabled: false,
            discount: { minQty: 10, percent: 15 }
          }
        ]
      },
      {
        id: 'outlet',
        name: '–†–æ–∑–µ—Ç–∫–∏',
        icon: 'üîå',
        color: 'green',
        options: [
          { 
            id: 'install', 
            name: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–æ–∑–µ—Ç–∫—É', 
            price: 250,
            quantity: 0,
            enabled: false,
            discount: { minQty: 5, percent: 10 }
          },
          { 
            id: 'replace', 
            name: '–ó–∞–º–µ–Ω–∏—Ç—å —Ä–æ–∑–µ—Ç–∫—É', 
            price: 350,
            quantity: 0,
            enabled: false,
            discount: { minQty: 5, percent: 10 }
          },
          { 
            id: 'surface', 
            name: '–ù–∞–∫–ª–∞–¥–Ω–∞—è —Ä–æ–∑–µ—Ç–∫–∞', 
            price: 500,
            quantity: 0,
            enabled: false,
            discount: { minQty: 5, percent: 10 }
          },
          { 
            id: 'repair', 
            name: '–†–µ–º–æ–Ω—Ç —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏', 
            price: 1500,
            quantity: 0,
            enabled: false,
            discount: { minQty: 5, percent: 10 }
          }
        ]
      }
    ];
  }
  
  toggleOption(serviceId, optionId) {
    const service = this.services.find(s => s.id === serviceId);
    const option = service.options.find(o => o.id === optionId);
    
    option.enabled = !option.enabled;
    if (option.enabled && option.quantity === 0) {
      option.quantity = 1;
    }
    
    this.render();
    this.updateTotal();
  }
  
  updateQuantity(serviceId, optionId, delta) {
    const service = this.services.find(s => s.id === serviceId);
    const option = service.options.find(o => o.id === optionId);
    
    option.quantity = Math.max(1, option.quantity + delta);
    this.render();
    this.updateTotal();
  }
  
  calculateOptionPrice(option) {
    let price = option.price * option.quantity;
    
    // –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –°–ö–ò–î–ö–ò
    if (option.discount && option.quantity >= option.discount.minQty) {
      const discount = option.discount.percent / 100;
      price = price * (1 - discount);
    }
    
    return price;
  }
  
  calculateTotal() {
    let total = 0;
    
    this.services.forEach(service => {
      service.options.forEach(option => {
        if (option.enabled) {
          total += this.calculateOptionPrice(option);
        }
      });
    });
    
    return total;
  }
  
  hasDiscount(option) {
    return option.discount && option.quantity >= option.discount.minQty;
  }
  
  render() {
    const container = document.getElementById('calculator-container');
    
    let html = '';
    
    this.services.forEach(service => {
      html += `
        <div class="service-card">
          <div class="service-header">
            <span class="service-icon">${service.icon}</span>
            <h3>${service.name}</h3>
          </div>
          <div class="service-options">
      `;
      
      service.options.forEach(option => {
        const price = this.calculateOptionPrice(option);
        const hasDiscount = this.hasDiscount(option);
        
        html += `
          <div class="option-item ${option.enabled ? 'enabled' : ''}">
            <label>
              <input 
                type="checkbox" 
                ${option.enabled ? 'checked' : ''}
                onchange="calculator.toggleOption('${service.id}', '${option.id}')"
              />
              <span>${option.name}</span>
            </label>
            
            ${option.enabled ? `
              <div class="quantity-controls">
                <button onclick="calculator.updateQuantity('${service.id}', '${option.id}', -1)">‚àí</button>
                <span>${option.quantity}</span>
                <button onclick="calculator.updateQuantity('${service.id}', '${option.id}', 1)">+</button>
              </div>
              
              <div class="option-price">
                ${price.toLocaleString('ru-RU')} ‚ÇΩ
              </div>
              
              ${option.discount ? `
                <div class="discount-info ${hasDiscount ? 'active' : ''}">
                  –°–∫–∏–¥–∫–∞ ${option.discount.percent}% –æ—Ç ${option.discount.minQty} —à—Ç.
                  ${hasDiscount ? ' ‚úì' : ''}
                </div>
              ` : ''}
            ` : `
              <span class="option-price">+${option.price} ‚ÇΩ</span>
            `}
          </div>
        `;
      });
      
      html += `
          </div>
        </div>
      `;
    });
    
    container.innerHTML = html;
  }
  
  updateTotal() {
    const total = this.calculateTotal();
    document.getElementById('calculator-total').textContent = 
      total.toLocaleString('ru-RU') + ' ‚ÇΩ';
  }
  
  init() {
    this.render();
    this.updateTotal();
  }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
const calculator = new Calculator();
```

---

## üì± HTML –°–¢–†–£–ö–¢–£–†–ê

```html
<!-- calculator.html -->
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–∞ - Balt-Set.ru</title>
  <link rel="stylesheet" href="/static/calculator.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–∞</h1>
      <p>–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç –∑–∞ 2 –º–∏–Ω—É—Ç—ã</p>
    </header>
    
    <div id="calculator-container"></div>
    
    <div class="total-section">
      <div class="total-label">–ò–¢–û–ì–û:</div>
      <div id="calculator-total" class="total-value">0 ‚ÇΩ</div>
    </div>
    
    <button class="btn-order" onclick="createOrder()">
      –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞—è–≤–∫—É
    </button>
  </div>
  
  <script src="/static/calculator.js"></script>
</body>
</html>
```

---

## üé® –°–¢–ò–õ–ò (calculator.css)

```css
.service-card {
  background: white;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.service-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}

.service-icon {
  font-size: 32px;
}

.option-item {
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 8px;
  transition: all 0.3s;
}

.option-item.enabled {
  background: #d1fae5;  /* –ó–µ–ª—ë–Ω—ã–π —Ñ–æ–Ω */
}

.quantity-controls {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin: 0 12px;
}

.quantity-controls button {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: none;
  font-size: 18px;
  cursor: pointer;
}

.quantity-controls button:first-child {
  background: #e5e7eb;
}

.quantity-controls button:last-child {
  background: #f97316;
  color: white;
}

.discount-info {
  font-size: 12px;
  color: #6b7280;
  margin-top: 8px;
}

.discount-info.active {
  color: #059669;
  font-weight: 600;
}

.total-section {
  background: linear-gradient(135deg, #dbeafe, #e0e7ff);
  border-radius: 12px;
  padding: 20px;
  margin: 24px 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.total-value {
  font-size: 32px;
  font-weight: 700;
  color: #059669;
}

.btn-order {
  width: 100%;
  padding: 16px;
  background: linear-gradient(to right, #2563eb, #4f46e5);
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 18px;
  font-weight: 600;
  cursor: pointer;
}
```

---

## ‚úÖ –ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ!

### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:

1. `/var/www/app.balt-set.ru/calculator.html` - HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞
2. `/var/www/app.balt-set.ru/static/calculator.js` - JavaScript –ª–æ–≥–∏–∫–∞
3. `/var/www/app.balt-set.ru/static/calculator.css` - –°—Ç–∏–ª–∏

### –ö–æ–º–∞–Ω–¥–∞ –¥–µ–ø–ª–æ—è:

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ VPS
scp calculator.html root@176.98.178.109:/var/www/app.balt-set.ru/
scp static/calculator.js root@176.98.178.109:/var/www/app.balt-set.ru/static/
scp static/calculator.css root@176.98.178.109:/var/www/app.balt-set.ru/static/
```

---

**üöÄ –ì–û–¢–û–í–û! –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –º–æ—â–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ —á–µ–∫–±–æ–∫—Å–∞–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π —Å–∫–∏–¥–æ–∫!**
