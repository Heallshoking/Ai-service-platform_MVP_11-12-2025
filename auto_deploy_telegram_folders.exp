#!/usr/bin/expect -f
# –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π —Å –≤–≤–æ–¥–æ–º –ø–∞—Ä–æ–ª—è

set timeout 120
set password "vfhufhbnrf"

# –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã Telegram Folders
spawn scp telegram_folders_integration.py telegram_client_bot.py root@176.98.178.109:/root/ai_service_bots/
expect "password:"
send "$password\r"
expect eof

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
spawn ssh root@176.98.178.109
expect "password:"
send "$password\r"
expect "# "

send "cd /root/ai_service_bots/\r"
expect "# "

send "pkill -f telegram_client_bot.py\r"
expect "# "

send "sleep 2\r"
expect "# "

send "nohup python3 telegram_client_bot.py > client_bot.log 2>&1 &\r"
expect "# "

send "ps aux | grep telegram_client_bot.py | grep -v grep\r"
expect "# "

send "tail -5 client_bot.log\r"
expect "# "

send "exit\r"
expect eof

puts "\n‚úÖ Telegram Folders –∑–∞–¥–µ–ø–ª–æ–µ–Ω!"
puts "üß™ –°–æ–∑–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É —á–µ—Ä–µ–∑ @ai_service_client_bot"
puts "üéØ –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞–ø–∫–∏\n"
