#!/usr/bin/expect -f
# Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ğ¾Ñ‚Ğ° Ğ´Ğ»Ñ Ğ¼Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ²
# Ğ”Ğ°Ñ‚Ğ°: 15.12.2024

set timeout 120
set password "pneDRE2K?Tz1k-"
set host "root@176.98.178.109"

puts "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
puts "  ğŸš€ Ğ”Ğ•ĞŸĞ›ĞĞ™ Ğ£Ğ›Ğ£Ğ§Ğ¨Ğ•ĞĞ˜Ğ™ Ğ‘ĞĞ¢Ğ Ğ”Ğ›Ğ¯ ĞœĞĞ¡Ğ¢Ğ•Ğ ĞĞ’"
puts "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ°
puts "\nğŸ“¤ ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ telegram_master_bot.py Ğ½Ğ° VPS..."
spawn scp telegram_master_bot.py $host:/root/ai_service_bots/
expect "password:"
send "$password\r"
expect eof

puts "\nâœ… Ğ¤Ğ°Ğ¹Ğ» ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½"

# ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº VPS Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº Ğ±Ğ¾Ñ‚Ğ°
puts "\nğŸ”„ ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº VPS Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ±Ğ¾Ñ‚Ğ°..."
spawn ssh $host
expect "password:"
send "$password\r"
expect "# "

puts "\nğŸ“‚ ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ±Ğ¾Ñ‚Ğ°..."
send "cd /root/ai_service_bots\r"
expect "# "

puts "\nğŸ›‘ ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° ÑÑ‚Ğ°Ñ€Ğ¾Ğ³Ğ¾ Ğ±Ğ¾Ñ‚Ğ° Ğ¼Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ²..."
send "pkill -f telegram_master_bot.py\r"
expect "# "
sleep 2

puts "\nğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ±Ğ¾Ñ‚Ğ° Ğ¼Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ²..."
send "screen -dmS master_bot python3 telegram_master_bot.py\r"
expect "# "
sleep 2

puts "\nğŸ“‹ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ½Ñ‹Ñ… screen ÑĞµÑÑĞ¸Ğ¹..."
send "screen -ls\r"
expect "# "

puts "\nâœ… Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½!"
puts "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

send "exit\r"
expect eof

puts "\nğŸ‰ Ğ‘Ğ¾Ñ‚ Ğ¼Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ² ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½ Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½!"
puts "ğŸ“ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ğ±Ğ¾Ñ‚Ğ° Ğ² Telegram"
